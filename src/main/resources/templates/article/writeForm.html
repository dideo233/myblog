<!DOCTYPE html>
<html th:replace="~{layout/layout.html :: layout(~{::section})}"
      lang="ko" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5" xmlns="http://www.w3.org/1999/html">
<head></head>
<body>
  <section>
    <div id="thumbBox" style="display: none">
      <div class="card d-flex align-items-center justify-content-center thumbBox">
        <img src="" id="thumbnailPreView" class="card-img-top w-100 vh-100 cover thumbImg" alt="">
        <button id="thumbDelBtn" class="thumbDelBtn"><i class="far fa-trash-alt "></i></button>
      </div>
    </div>

    <div class="d-xxl-none p-0" style="margin-bottom: 100px"></div>

    <div class="container">
      <div class="row justify-content-center mt-5 mb-3 g-0">
        <div class="d-flex flex-row-reverse">
          <label class="btn btn-secondary" for="thumbnail">썸네일 등록</label>
          <input type="file" id="thumbnail" name="thumbnail" accept="image/*" class="d-none">
        </div>

        <form class="" method="post" enctype="multipart/form-data" th:object="${articleDTO}" th:action="@{/article/write}" id="articleFrm">
          <textarea type="text" name="thumbnailUrl" id="thumbnailUrl" hidden></textarea>
          <div class="form-group mt-3 mb-3">
            <input id="category" name="category" type="text" class="form-control ps-3" placeholder="카테고리를 입력해주세요" required max="30">
          </div>
          <div class="form-group ">
            <input id="title" name="title" type="text" class="form-control ps-3" placeholder="제목을 입력해주세요" required max="30">
          </div>
          <div class="form-group">
            <textarea type="text" name="content" id="content" hidden></textarea>
          </div>
          <div class="row justify-content-center mt-4 mb-3 g-0">
            <label for="editor"></label>
            <div class=" d-none d-sm-block">
              <div style="background: white" id="editor"></div>
            </div>
            <div class=" d-block d-sm-none">
              <div style="background: white" id="editorMobile"></div>
            </div>
          </div>
        </form>
      </div>

      <div class="row justify-content-evenly mt-4 mb-5 g-0">
        <button class="btn btn-secondary col-4 d-none d-sm-block" onclick="postArticle()">등 록</button>
        <button class="btn btn-secondary col-4 d-block d-sm-none" onclick="postArticleMobile()">등 록</button>
        <button class="btn btn-secondary col-4" onclick="javascript:history.back()">취 소</button>
      </div>
    </div>
  <script src="https://uicdn.toast.com/editor/latest/toastui-editor-all.min.js"></script>
  <script src="/js/thumbnail.js"></script>
  <script src="/js/editor.js"></script>
  </section>
</body>
</html>
